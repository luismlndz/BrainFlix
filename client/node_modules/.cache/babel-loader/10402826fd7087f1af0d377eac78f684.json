{"ast":null,"code":"var _jsxFileName = \"/Users/luismelendez/Desktop/brainstation/BrainFlix/luis-melendez-brainflix/client/src/pages/Upload/Upload.js\",\n    _s = $RefreshSig$();\n\nimport './Upload.scss';\nimport { useState, useEffect } from 'react';\nimport { Link, useHistory } from 'react-router-dom';\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst apiURL = 'http://localhost:8080';\nexport default function Upload() {\n  _s();\n\n  const [thumbnail, setThumbnail] = useState(null);\n  const history = useHistory();\n\n  const onFileChange = event => {\n    console.log(event);\n    setThumbnail(event.target.files[0]);\n  };\n\n  const handleSubmit = event => {\n    event.preventDefault();\n    const {\n      title,\n      description\n    } = event.target;\n    let validation = false;\n\n    if (validate(title) & validate(description)) {\n      validation = true;\n    } //Clear any errors\n\n\n    clearError(title);\n    clearError(description);\n\n    if (validation) {\n      const newVideo = {\n        title: title.value,\n        description: description.value,\n        image: thumbnail\n      };\n      axios.post(`${apiURL}/videos/`, newVideo).then(res => console.log(res)).catch(err => console.log(err));\n      history.push('/');\n    }\n\n    event.target.reset();\n  };\n\n  const validate = input => {\n    if (!input.value) {\n      const inputField = document.getElementById(input.id);\n      inputField.classList.add('error');\n      return false;\n    } else return true;\n  };\n\n  const clearError = input => {\n    const inputField = document.getElementById(input.id);\n    input.addEventListener('input', () => inputField.classList.remove('error'));\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"form\", {\n    onSubmit: handleSubmit,\n    className: \"upload\",\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      className: \"upload__title\",\n      children: \"Upload Video\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"upload__fields\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"upload__image-container\",\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"upload__heading\",\n          children: \"VIDEO THUMBNAIL\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"upload__image\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        onChange: onFileChange,\n        type: \"file\",\n        className: \"upload__image-button\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"upload__inputs\",\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"upload__heading\",\n          children: \"TITLE YOUR VIDEO\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          id: \"title\",\n          className: \"upload__input\",\n          placeholder: \"Add a title to your video\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"upload__heading\",\n          children: \"ADD A VIDEO DESCRIPTION\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n          id: \"description\",\n          className: \"upload__input upload__input-description\",\n          placeholder: \"Add a description to your video\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"upload__options\",\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        className: \"upload__button\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"upload__button-icon\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 13\n        }, this), \"PUBLISH\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Link, {\n        to: \"/\",\n        className: \"upload__cancel\",\n        children: \"CANCEL\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 61,\n    columnNumber: 5\n  }, this);\n}\n\n_s(Upload, \"63VEY83jqaF0wOVkgLQZMMBy8AE=\", false, function () {\n  return [useHistory];\n});\n\n_c = Upload;\n\nvar _c;\n\n$RefreshReg$(_c, \"Upload\");","map":{"version":3,"sources":["/Users/luismelendez/Desktop/brainstation/BrainFlix/luis-melendez-brainflix/client/src/pages/Upload/Upload.js"],"names":["useState","useEffect","Link","useHistory","axios","apiURL","Upload","thumbnail","setThumbnail","history","onFileChange","event","console","log","target","files","handleSubmit","preventDefault","title","description","validation","validate","clearError","newVideo","value","image","post","then","res","catch","err","push","reset","input","inputField","document","getElementById","id","classList","add","addEventListener","remove"],"mappings":"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","sourcesContent":["import './Upload.scss';\nimport { useState, useEffect } from 'react'\nimport { Link, useHistory } from 'react-router-dom';\nimport axios from 'axios'\nconst apiURL = 'http://localhost:8080'\n\nexport default function Upload() {\n  const [thumbnail, setThumbnail] = useState(null)\n  const history = useHistory()\n\n  const onFileChange = (event) => {\n    console.log(event)\n    setThumbnail(event.target.files[0])\n  }\n\n  const handleSubmit = (event) => {\n    event.preventDefault()\n    const { title , description } = event.target\n    let validation = false\n\n    if(validate(title) & validate(description)) {\n      validation = true\n    }\n\n    //Clear any errors\n    clearError(title)\n    clearError(description)\n    \n    if(validation) {\n      const newVideo = {\n        title: title.value,\n        description: description.value,\n        image: thumbnail\n      }\n\n      axios.post(`${apiURL}/videos/`, newVideo)\n        .then(res => console.log(res))\n        .catch(err => console.log(err))\n      \n      history.push('/')\n    }\n    event.target.reset()\n  }\n\n  const validate = (input) => {\n    if(!input.value) {\n      const inputField = document.getElementById(input.id)\n      inputField.classList.add('error')\n      return false\n    }\n    else\n      return true\n  }\n\n  const clearError = (input) => {\n    const inputField = document.getElementById(input.id)\n    input.addEventListener('input', () => inputField.classList.remove('error'))\n  }\n\n  return (\n    <form onSubmit={handleSubmit} className=\"upload\">\n        <h1 className=\"upload__title\">Upload Video</h1>\n        <div className=\"upload__fields\">\n          <div className=\"upload__image-container\">\n              <p className=\"upload__heading\">VIDEO THUMBNAIL</p>\n              <div className=\"upload__image\"></div>\n          </div>\n          <input onChange={onFileChange} type='file' className='upload__image-button'/>\n          <div className=\"upload__inputs\">\n              <p className=\"upload__heading\">TITLE YOUR VIDEO</p>\n              <input id='title' className=\"upload__input\" placeholder=\"Add a title to your video\"/>\n              <p className=\"upload__heading\">ADD A VIDEO DESCRIPTION</p>\n              <textarea id='description' className=\"upload__input upload__input-description\" placeholder=\"Add a description to your video\"/>\n          </div>\n        </div>\n        <div className=\"upload__options\">\n          <button type='submit' className=\"upload__button\">\n            <span className=\"upload__button-icon\"></span>PUBLISH</button>\n          <Link to=\"/\" className=\"upload__cancel\">CANCEL</Link>\n        </div>\n    </form>\n  );\n}"]},"metadata":{},"sourceType":"module"}